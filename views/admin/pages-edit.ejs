<%- include("../partials/admin-start", { title }) %>

<h1 class="text-3xl font-serif text-thought mb-8">Edit Page Content</h1>

<% if (saved) { %>
  <div class="mb-6 border border-action/30 bg-white p-4 text-thought/80">Saved.</div>
<% } %>

<form method="post" action="/admin/pages/<%= encodeURIComponent(page.id) %>" class="space-y-6 bg-white p-8 border border-warmth/20">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label class="block text-thought font-medium mb-2" for="title">Page Title</label>
      <input id="title" type="text" name="title" value="<%= page.title %>" required class="w-full p-3 border border-warmth/30 focus:border-thought outline-none" />
    </div>

    <div>
      <label class="block text-thought font-medium mb-2" for="slug">Slug (Read Only)</label>
      <input id="slug" type="text" value="<%= page.slug %>" disabled class="w-full p-3 border border-warmth/10 bg-gray-50 text-thought/60 outline-none" />
    </div>
  </div>

  <div>
    <label class="block text-thought font-medium mb-2" for="content">Content (Rich Text / HTML)</label>
    <textarea id="content" name="content" required rows="20" class="w-full p-3 border border-warmth/30 focus:border-thought outline-none font-mono text-sm"><%= page.content %></textarea>
    <p class="text-sm text-thought/60 mt-1">Supports HTML. Use tags like &lt;h2&gt;, &lt;p&gt;, &lt;ul&gt; to structure your content.</p>
  </div>

  <div class="pt-4 border-t border-warmth/20">
    <button type="submit" class="bg-action text-white px-8 py-3 font-medium hover:bg-action/90 transition-colors">Update Page</button>
  </div>
</form>

<div class="mt-6 text-sm text-thought/60">
  Preview: <a class="text-action hover:underline" href="/<%= page.slug %>" target="_blank" rel="noopener noreferrer">/<%= page.slug %></a>
</div>

<%- include("../partials/admin-end") %>

